{"version":3,"sources":["images/arrow.svg","Components/Atoms/ArrowButton.tsx","Components/Atoms/CoverResizer.tsx","config.ts","Utils/TimerUtil.ts","images/compass.svg","Components/Atoms/Compass.tsx","Components/Atoms/FakeMapFooter.tsx","Components/Pages/FakeMapPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ArrowButtonElement","props","className","left","onPress","style","right","isLeft","undefined","cursor","onMouseDown","src","arrowIcon","transform","width","height","alt","ArrowButton","React","memo","CoverResizerElement","aspectRatio","children","useState","centeredStyle","setCenteredStyles","bounds","onResize","rect","top","position","measureRef","ref","CoverResizer","config","backgroundVideoURL","process","videoMinStep","videoMaxStep","TimerUtil","from","to","duration","steps","callback","onFinish","interval","i","intervalID","window","setInterval","clearInterval","CompassElement","marginLeft","compassIcon","Compass","FakeMapFooterElement","currentYear","Date","getFullYear","FakeMapFooter","FakeMapPageElement","currentStep","useRef","isPlaying","playerRef","queueNextPlay","nextPlayDirection","handlePlay","toStep","current","nextStep","Math","max","min","t","seekTo","url","FakeMapPage","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5028959.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/arrow.959ef8d9.svg\";","import React, { useState } from 'react';\nimport arrowIcon from '../../images/arrow.svg';\nimport './ArrowButton.css';\n\ntype ArrowButtonProps = {\n  className?: string;\n  left?: boolean;\n  onPress: () => void;\n  right?: boolean;\n  style?: React.CSSProperties;\n};\n\nconst ArrowButtonElement: React.FC<ArrowButtonProps> = (props) => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { className, left, onPress, right, style } = props;\n  const isLeft = left !== undefined;\n\n  return (\n    <div className={className} style={style}>\n      <a style={{ cursor: 'pointer' }} onMouseDown={() => onPress()}>\n        <img\n          src={arrowIcon}\n          className=\"arrow-button\"\n          style={{\n            transform: isLeft ? 'scaleX(-1)' : undefined,\n          }}\n          width=\"100px\"\n          height=\"100px\"\n          alt=\"left\"\n        />\n      </a>\n    </div>\n  );\n};\n\nexport const ArrowButton = React.memo(ArrowButtonElement);\n","import React, { CSSProperties, useState } from 'react';\nimport Measure, { ContentRect } from 'react-measure';\n\ntype CoverResizerProps = React.PropsWithChildren<{\n  aspectRatio: number;\n}>;\n\nconst CoverResizerElement: React.FC<CoverResizerProps> = (props) => {\n  const { aspectRatio, children } = props;\n\n  const [centeredStyle, setCenteredStyles] = useState<CSSProperties>({});\n\n  const handleResize = (rect: ContentRect) => {\n    if (rect.bounds === undefined) {\n      return;\n    }\n\n    let width: number;\n    let height: number;\n\n    if (rect.bounds.width / rect.bounds.height > aspectRatio) {\n      width = rect.bounds.width;\n      height = rect.bounds.width / aspectRatio;\n    } else {\n      width = rect.bounds.height * aspectRatio;\n      height = rect.bounds.height;\n    }\n\n    const left = 0.5 * (rect.bounds.width - width);\n    const top = 0.5 * (rect.bounds.height - height);\n\n    setCenteredStyles({\n      position: 'absolute',\n      left,\n      top,\n      width,\n      height,\n    });\n  };\n  return (\n    <Measure bounds onResize={handleResize}>\n      {({ measureRef }) => (\n        <div ref={measureRef} style={{ position: 'absolute', width: '100%', height: '100%' }}>\n          <div style={centeredStyle}>{children}</div>\n        </div>\n      )}\n    </Measure>\n  );\n};\n\nexport const CoverResizer = React.memo(CoverResizerElement);\n","export const config = {\n  backgroundVideoURL: process.env.PUBLIC_URL + '/assets/background.mp4',\n  videoMinStep: 0,\n  videoMaxStep: 5,\n};\n","export const TimerUtil = {\n  interpolate: (\n    from: number,\n    to: number,\n    duration: number,\n    steps: number,\n    callback: (t: number) => void,\n    onFinish?: () => void,\n  ) => {\n    const interval = duration / steps;\n    let i = 0;\n    const intervalID = window.setInterval(() => {\n      callback(from + (to - from) * (i / steps));\n      i++;\n      if (i > steps) {\n        window.clearInterval(intervalID);\n        if (onFinish) {\n          onFinish();\n        }\n      }\n    }, interval);\n  },\n};\n","export default __webpack_public_path__ + \"static/media/compass.ddc73d2d.svg\";","import React from 'react';\nimport compassIcon from '../../images/compass.svg';\n\ntype CompassProps = {\n  className?: string;\n  style?: React.CSSProperties;\n};\n\nconst SIZE = 90;\n\nconst CompassElement: React.FC<CompassProps> = (props) => {\n  const { className, style } = props;\n\n  return (\n    <div className={className} style={style}>\n      <img style={{ marginLeft: `-${0.5 * SIZE}px` }} src={compassIcon} width={`${SIZE}px`} height={`${SIZE}px`} />\n    </div>\n  );\n};\n\nexport const Compass = React.memo(CompassElement);\n","import React from 'react';\nimport './FakeMapFooter.css';\n\nconst FakeMapFooterElement: React.FC = () => {\n  const currentYear = new Date().getFullYear();\n  return (\n    <div className=\"footer-container\">\n      <div className=\"footer-content\">\n        <div>&copy; jperlmaps {currentYear}</div>\n      </div>\n    </div>\n  );\n};\n\nexport const FakeMapFooter = React.memo(FakeMapFooterElement);\n","import React, { useCallback, useRef } from 'react';\nimport ReactPlayer from 'react-player';\nimport { config } from '../../config';\nimport { TimerUtil } from '../../Utils/TimerUtil';\nimport { ArrowButton, CoverResizer } from '../Atoms';\nimport { Compass } from '../Atoms/Compass';\nimport { FakeMapFooter } from '../Atoms/FakeMapFooter';\nimport './FakeMapPage.css';\n\ntype FakeMapProps = {};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst FakeMapPageElement: React.FC<FakeMapProps> = (props) => {\n  const currentStep = useRef<number>(0);\n  const isPlaying = useRef<boolean>(false);\n  const playerRef = useRef<ReactPlayer | null>();\n  const queueNextPlay = useRef<boolean>(false);\n  const nextPlayDirection = useRef<number>(0);\n\n\n  const handlePlay = (toStep: number) => {\n    if (isPlaying.current) {\n      queueNextPlay.current = true;\n      return;\n    }\n\n    const nextStep = Math.max(config.videoMinStep, Math.min(config.videoMaxStep, toStep));\n    if (nextStep === currentStep.current) {\n      return;\n    }\n\n    isPlaying.current = true;\n    TimerUtil.interpolate(\n      currentStep.current,\n      nextStep,\n      1000,\n      30,\n      (t) => {\n        playerRef.current?.seekTo(t, 'seconds');\n      },\n      () => {\n        isPlaying.current = false;\n        currentStep.current = nextStep;\n        if (queueNextPlay.current === true) {\n          queueNextPlay.current = false;\n          handlePlay(currentStep.current + nextPlayDirection.current);\n        }\n      },\n    );\n  };\n\n  const handlePressLeft = () => {\n    handlePlay(currentStep.current - 1);\n    nextPlayDirection.current = -1;\n  };\n\n  const handlePressRight = () => {\n    handlePlay(currentStep.current + 1);\n    nextPlayDirection.current = 1;\n  };\n\n  return (\n    <div className=\"container\">\n      <CoverResizer aspectRatio={16 / 9}>\n        <div>\n          <ReactPlayer\n            ref={(ref) => (playerRef.current = ref)}\n            url={config.backgroundVideoURL}\n            className=\"react-player\"\n            width=\"100%\"\n            height=\"100%\"\n          />\n          hey\n        </div>\n      </CoverResizer>\n      <ArrowButton left className=\"left-arrow-button\" onPress={handlePressLeft} />\n      <ArrowButton right className=\"right-arrow-button\" onPress={handlePressRight} />\n      <Compass className=\"compass\" />\n      <FakeMapFooter />\n    </div>\n  );\n};\n\nexport const FakeMapPage = React.memo(FakeMapPageElement);\n","import React from 'react';\nimport './App.css';\nimport ReactPlayer from 'react-player';\nimport { config } from './config';\nimport { FakeMapPage } from './Components';\n\nfunction App() {\n  return (\n    <FakeMapPage />\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}